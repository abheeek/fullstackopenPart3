{"version":3,"sources":["services/persons.js","components/Form.js","components/Contact.js","components/Phonebook.js","components/Search.js","components/Notification.js","App.js","index.js"],"names":["axios","get","then","response","data","newPerson","post","person","delete","id","newNumber","put","number","Form","props","onSubmit","addNewPerson","value","newName","onChange","handleNameChange","handleNumberChange","type","Contact","handleDeleteClick","name","onClick","Phonebook","persons","map","key","Search","searchName","handleSearchChange","Notification","message","messageStyle","color","messageType","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","useState","setPersons","setNewName","setNewNumber","setSearchName","setMessage","setMessageType","useEffect","personService","initialPersons","event","target","preventDefault","index","findIndex","window","confirm","returnedPerson","newPersons","setTimeout","catch","error","concat","console","log","filter","toLowerCase","includes","array","item","indexOf","splice","removeItem","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NAuBe,EAnBA,WAEb,OADgBA,IAAMC,IAHR,gBAICC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAiB5B,EAdA,SAAAC,GAEb,OADgBL,IAAMM,KARR,eAQsBD,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAY5B,EATA,SAAAG,GACb,OAAOP,IAAMQ,OAAN,uBAA6BD,EAAOE,MAQ9B,EALA,SAACF,EAAQG,GAEtB,OADgBV,IAAMW,IAAN,uBAA0BJ,EAAOE,IAAjC,2BAA2CF,GAA3C,IAAmDK,OAAQF,KAC5DR,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCF5BS,EAhBF,SAACC,GACZ,OACE,0BAAMC,SAAUD,EAAME,cACpB,sCACQ,2BAAOC,MAAOH,EAAMI,QAASC,SAAUL,EAAMM,oBAErD,wCACU,2BAAOH,MAAOH,EAAMJ,UAAWS,SAAUL,EAAMO,sBAEzD,6BACE,4BAAQC,KAAK,UAAb,UCHOC,EAPC,SAAC,GAAD,IAAGhB,EAAH,EAAGA,OAAQiB,EAAX,EAAWA,kBAAX,OACd,4BACGjB,EAAOkB,KADV,IACiBlB,EAAOK,OACtB,4BAAQc,QAAS,kBAAMF,EAAkBjB,KAAzC,YCIWoB,EANG,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASJ,EAAZ,EAAYA,kBAAZ,OACd,4BACGI,EAAQC,KAAI,SAACtB,GAAD,OAAY,kBAAC,EAAD,CAASuB,IAAKvB,EAAOkB,KAAMlB,OAAQA,EAAQiB,kBAAmBA,SCK9EO,EARA,SAACjB,GACd,OACE,wCACU,2BAAOG,MAAOH,EAAMkB,WAAYb,SAAUL,EAAMmB,uBCmB/CC,EAtBM,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAChBC,EAAe,CACnBC,MAF+C,EAAlBC,YAG7BC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAEhB,OAAIT,EAEA,yBAAKU,MAAOT,GACVD,GAKG,MC4GIW,EAzHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACRnB,EADQ,KACCoB,EADD,OAEgBD,mBAAS,IAFzB,mBAER7B,EAFQ,KAEC+B,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRrC,EAHQ,KAGGwC,EAHH,OAIsBH,mBAAS,IAJ/B,mBAIRf,EAJQ,KAIImB,EAJJ,OAKgBJ,mBAAS,IALzB,mBAKRZ,EALQ,KAKCiB,EALD,OAMwBL,mBAAS,IANjC,mBAMRT,EANQ,KAMKe,EANL,KAQhBC,qBAAU,WACRC,IACGrD,MAAK,SAAAsD,GACJR,EAAWQ,QAEd,IA4FH,OACE,6BACE,yCACA,kBAAC,EAAD,CAAcrB,QAASA,EAASG,YAAaA,IAC7C,kBAAC,EAAD,CAAQN,WAAYA,EAAYC,mBAtFT,SAACwB,GAC1BN,EAAcM,EAAMC,OAAOzC,UAsFzB,yCACA,kBAAC,EAAD,CACED,aArFe,SAACyC,GACpBA,EAAME,iBACN,IAAIC,EAAQhC,EAAQiC,WAAU,SAAAtD,GAAM,OAAIA,EAAOkB,OAASP,KAEpD0C,GAAS,EACPE,OAAOC,QAAP,UAAkB7C,EAAlB,4EACFqC,EACU3B,EAAQgC,GAAQlD,GACvBR,MAAK,SAAA8D,GACJ,IAAIC,EAAU,YAAOrC,GACrBqC,EAAWL,GAAX,eAAwBI,GACxBhB,EAAWiB,GACXb,EAAW,WAAD,OAAYlC,IACtBmC,EAAe,SACfa,YAAW,WACTd,EAAW,QACV,QAEJe,OAAM,SAAAC,GACLhB,EAAWgB,EAAMjE,SAASC,KAAKgE,OAC/Bf,EAAe,OACfa,YAAW,WACTd,EAAW,QACV,QASTG,EAJkB,CAChB9B,KAAMP,EACNN,OAAQF,IAIPR,MAAK,SAAA8D,GACJhB,EAAWpB,EAAQyC,OAAOL,IAC1BZ,EAAW,SAAD,OAAUlC,IACpBmC,EAAe,SACfa,YAAW,WACPd,EAAW,QACZ,QAEJe,OAAM,SAAAC,GACLE,QAAQC,IAAIH,EAAMjE,SAASC,MAC3BgD,EAAWgB,EAAMjE,SAASC,KAAKgE,OAC/Bf,EAAe,OACfa,YAAW,WACTd,EAAW,QACV,QAGTH,EAAW,IACXC,EAAa,KAkCThC,QAASA,EAASE,iBAlGC,SAACqC,GACxBR,EAAWQ,EAAMC,OAAOzC,QAkGpBP,UAAWA,EAAWW,mBA/FD,SAACoC,GAC1BP,EAAaO,EAAMC,OAAOzC,UA+FxB,uCACA,kBAAC,EAAD,CAAWW,QAjCNA,EAAQ4C,QAAO,SAACjE,GAAD,OACJA,EAAOkB,KAAKgD,cAAcC,SAAS1C,EAAWyC,kBAgCvBjD,kBArBjB,SAAAjB,GACpBuD,OAAOC,QAAP,iBAAyBxD,EAAOkB,KAAhC,OACF8B,EACUhD,GACPL,MAAK,WACJ8C,EAbW,SAAC2B,EAAOC,GACzB,IAAIhB,EAAQe,EAAME,QAAQD,GAI1B,OAHIhB,GAAS,GACXe,EAAMG,OAAOlB,EAAO,GAEfe,EAQUI,CAAW,YAAInD,GAAUrB,YCvG9CyE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.03cbc8b2.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n  const request = axios.post(baseUrl, newPerson)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = person => {\r\n  return axios.delete(`/api/persons/${person.id}`)\r\n}\r\n\r\nconst update = (person, newNumber) => {\r\n  const request = axios.put(`/api/persons/${person.id}`, {...person, number: newNumber})\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React from 'react'\r\n\r\nconst Form = (props) => {\r\n  return (\r\n    <form onSubmit={props.addNewPerson}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Contact = ({ person, handleDeleteClick }) => (\r\n  <li>\r\n    {person.name} {person.number}\r\n    <button onClick={() => handleDeleteClick(person)}>delete</button>\r\n  </li>\r\n)\r\n\r\nexport default Contact","import React from 'react'\r\nimport Contact from './Contact'\r\n\r\nconst Phonebook = ({ persons, handleDeleteClick }) => (\r\n    <ul>\r\n      {persons.map((person) => <Contact key={person.name} person={person} handleDeleteClick={handleDeleteClick} />)}\r\n    </ul>\r\n  )\r\n\r\nexport default Phonebook","import React from 'react'\r\n\r\nconst Search = (props) => {\r\n  return (\r\n    <div>\r\n      Search: <input value={props.searchName} onChange={props.handleSearchChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search","import React from 'react'\r\n\r\nconst Notification = ({ message, messageType }) => {\r\n  const messageStyle = {\r\n    color: messageType,\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginBottom: 10\r\n  }\r\n  if (message) {\r\n    return (\r\n      <div style={messageStyle}>\r\n      \t{message}\r\n      </div>\r\n    )\r\n  }\r\n  else {\r\n    return null\r\n  }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport Form from './components/Form'\nimport Phonebook from './components/Phonebook'\nimport Search from './components/Search'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchName, setSearchName ] = useState('')\n  const [ message, setMessage ] = useState('')\n  const [ messageType, setMessageType ] = useState('')\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    let index = persons.findIndex(person => person.name === newName)\n\n    if (index > -1) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(persons[index], newNumber)\n          .then(returnedPerson => {\n            let newPersons = [...persons]\n            newPersons[index] = {...returnedPerson}\n            setPersons(newPersons)\n            setMessage(`Updated ${newName}`)\n            setMessageType('green')\n            setTimeout(() =>{\n              setMessage(null)\n            }, 3000)\n          })\n          .catch(error =>{\n            setMessage(error.response.data.error)\n            setMessageType('red')\n            setTimeout(() =>{\n              setMessage(null)\n            }, 3000)\n          })\n      }\n    }\n    else {\n      const newPerson = {\n        name: newName,\n        number: newNumber,\n      }\n      personService\n        .create(newPerson)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage(`Added ${newName}`)\n          setMessageType('green')\n          setTimeout(() =>{\n              setMessage(null)\n          }, 3000)\n        })\n        .catch(error => {\n          console.log(error.response.data)\n          setMessage(error.response.data.error)\n          setMessageType('red')\n          setTimeout(() =>{\n            setMessage(null)\n          }, 3000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const filteredPersons = () => {\n    return persons.filter((person) => \n                      person.name.toLowerCase().includes(searchName.toLowerCase()))\n  }\n\n  const removeItem = (array, item) => {\n    let index = array.indexOf(item)\n    if (index > -1){\n      array.splice(index, 1)\n    }\n    return array\n  } \n\n  const handleDeleteClick = person => {\n    if (window.confirm(`Delete ${person.name}?`)){\n      personService\n        .remove(person)\n        .then(() => {\n          setPersons(removeItem([...persons], person))\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType} />\n      <Search searchName={searchName} handleSearchChange={handleSearchChange} />\n      <h2>add a new</h2>\n      <Form \n        addNewPerson={addNewPerson}\n        newName={newName} handleNameChange={handleNameChange} \n        newNumber={newNumber} handleNumberChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Phonebook persons={filteredPersons()} handleDeleteClick={handleDeleteClick} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}